---
hip: 1139
title: Enable Immutable Topic Ids and Updatable Submit Keys without an Admin Key.
author: Michael Kantor (@kantorcodes)
requested-by: Hashgraph Online
type: Standards Track
category: Service
needs-hiero-approval: Yes
needs-hedera-review: Yes
hedera-review-date:
hedera-acceptance-decision:
status: Last Call
last-call-date-time: 2025-07-23T07:00:00Z
discussions-to: https://github.com/hashgraph/hedera-improvement-proposal/pull/1139
created: 2025-03-11
updated: 2025-07-16
---

## **Abstract**

This proposal introduces enhancements to the Hedera Consensus Service (HCS) around the functionality of the Topic FeeSchedule Key and Submit Key. 

The core changes are the ability to update these keys to be permanently unusable. This is consistent with functionality available in the Hedera Token Service via [HIP-540](https://hips.hedera.com/hip/hip-540).

## **Motivation**

As Hedera expands the utility of Hedera Consensus Service (HCS) through functionality like HIP-991 developers are looking for continued improvements around Topics to support lifecycle management in a range of applications. Currently developers face two outstanding challenges when managing topics:

1. **No path to update Submit Key on a topic without an Admin Key.** A topic that has a Submit Key (but no Admin Key) cannot be updated, including transitioning the Submit Key to an unusable state (dead key). This limits functionality for developers who have purposely created a topic without an Admin key.
2. **No path to update FeeSchedule Key to a dead key.** A topic that has a FeeSchedule Key cannot be updated to an dead key (FeeSchedule Key can update itself to a valid FeeSchedule Key). This limits functionality for developers who have purposely created a topic without an Admin key an.

## **Rationale**

These enhancements follow the model established by HIP-540 for HTS token keys. Developers commonly want to:

- Start with certain key controls during initial setup
- Later remove or disable keys to provably eliminate control
- Make the topic fully immutable

This HIP enables safer lifecycle management of HCS topics by standardizing the process of making a topic immutable.

## **Terminology**

- **Dead Key**: A key set to an all-zeros Ed25519 public key, which is cryptographically impossible to sign with. Used to render a key permanently unusable.
- **Empty Key List:** A sentinel value that can't be used for signing.
- **Unusable Key:** A key that has been set to a Dead Key or an Empty Key List.
- **Active Key:** A valid key for signing
- **Immutable Topic**: A state in which all the keys on the topic are **unusable**. This means then that no changes can be made to the topic config.
- **Lower privilege key:** Refers to all keys you can set for a topic except for the admin key, which is a high privilege key. The Admin key is high privilege because it can independently set or rotate a lower privilege key in an update. For the purposes of this HIP the Submit key is a lower privilege key while the FeeScheduleKey is a special case as it cannot be updated once set.

## **User stories**

- As a developer, I want to make the Submit Key on my topic unusable so that no further messages can ever be submitted to the topic.
- As a developer, I want to make the FeeSchedule Key on my topic an empty key list so that no further updates to the fees can be submitted to the topic.
- As a developer, I want security that I don’t rotate the Submit Key to a unusable key by accident.
- As a developer, I want security that I don’t rotate the FeeSchedule Key to a unusable key by accident.
- As a developer, I want to rotate the Submit key without needing an Admin key on my topic.
- As a developer, I want to rotate the FeeSchedule key to a Dead key without needing an Admin key on my topic.
- As a service provider, I want to configure a topic for a client and then make it immutable so  it cannot be changed.
- As a mirror node operator, I want to ensure I can continue querying messages even after the topic is immutable

## **Specification**

### Transaction Specification

1. **Submit Key**
    1. A Submit key can update itself to a Dead Key, or an Empty Key List. This requires the signature of the old Submit Key and a flag to approve unusable key rotation. *(**new functionality)***
    2. A Submit key can update itself to another Active Key. This requires the signature of the old Submit Key and the new Submit Key. ***(new functionality)***
2. **FeeSchedule Key**
    1. A FeeSchedule key can update itself to a Dead Key (**not** an empty keylist). This requires the signature of the old FeeSchedule Key and a flag to approve unusable key rotation. *(**new functionality)***
    2. A FeeSchedule key can update itself to another Active Key. This requires the signature of the old FeeSchedule Key and the new FeeSchedule Key. *(no change)*
    3. FeeSchedule key can not set itself to an empty key list. *(no change)*
        - This would restrict an admin key from rotating it to a valid key or re-adding it to the topic. Admin key power should super-cede lower key privileges and rotations.
3. **Admin Key**
    1. An Admin key can update the lower privilege keys like Submit Key or FeeSchedule Key to an active or unusable key. This requires the signature of the Admin key. *(no change)*
    2. An Admin key can update itself to another Active key. This requires the signature of the old Admin key and the new Admin key. *(no change)*
    3. An Admin key can update itself to a Empty Keylist. This requires the signature of the old Admin key only. This should not require the AutoRenewAccountId to be an Empty Keylist as per [HIP-1021](https://hips.hedera.com/hip/hip-1021) 
    4. If a topic’s Submit Key was never set on creation, then the Admin Key can be used to set a Submit Key in a Topic Update. *(no change)*
    5. If a topic does not have an Admin Key set upon creation, then it can never be added or updated. *(no change)*
    6. If a topic does not have an FeeSchedule Key set upon creation, then it can never be added or updated even by Admin key. *(no change)*

### State Transitions

Detailed table of current and new functionality after HIP implementation and their affect on the keys on these entities. 

## Submit Key Table

| **Admin Key** | **Submit Key** | **Config State** | **Message State** | **State Description** |
| --- | --- | --- | --- | --- |
| Not set at creation | Not set at creation | Immutable | Submittable | No Administrative updates. Messages can be submitted for life of topic. |
| Not set at creation | Empty Key List | Immutable | Submittable | No Administrative updates. Messages can be submitted for life of topic. |
| Not set at creation | Dead Key | Immutable | Immutable | No Administrative updates. No message submission. |
| Not set at creation | Active Key | Immutable | Submittable | No Administrative updates. Authorized message submission. Submit key can update itself to active key or unusable key. |
| Empty Key List | Not set at creation | Immutable | Submittable | No Administrative updates. Messages can be submitted for life of topic. |
| Empty Key List | Empty Key List | Immutable | Submittable | No Administrative updates. Messages can be submitted for life of topic. |
| Empty Key List | Dead Key | Immutable | Immutable | No Administrative updates. No message submission. |
| Empty Key List | Active Key | Immutable | Submittable | No Administrative updates. Authorized message submission. Submit key can update itself to active key or unusable key. |
| Active Key | Not Set at creation | Mutable | Submittable | Administrative updates allowed. Can Add Submit Key as Active or Unusable Key. Messages can be submitted |
| Active Key | Empty Key List | Mutable | Submittable | Administrative updates allowed. Can Add Submit Key as Active or Unusable Key. Messages can be submitted |
| Active Key | Dead Key | Mutable | Immutable | Administrative updates allowed.  Can rotate Submit Key to Active or Unusable Key. No message submission. |
| Active Key | Active Key | Mutable | Submittable | Administrative updates allowed.  Can rotate Submit Key to Active or Unusable Key. Authorized message submission.  |

## FeeSchedule Key Table

| **Admin Key** | **FeeSchedule Key** | **Config State** | **State Description** |
| --- | --- | --- | --- |
| Not set at creation | Not set at creation | Immutable | No Administrative updates. No Custom Fee updates |
| Not set at creation | Empty Key List | Immutable | No Administrative updates. No Custom Fee updates |
| Not set at creation | Dead Key | Immutable | No Administrative updates. No Custom Fee updates |
| Not set at creation | Active Key | mutable | No Administrative updates. Custom Fee updates possible. FeeSchedule key can update itself to a new active key or dead key. |
| Empty Key List | Not set at creation | Immutable | No Administrative updates. No Custom Fee updates |
| Empty Key List | Empty Key List | Immutable | No Administrative updates. No Custom Fee updates |
| Empty Key List | Dead Key | Immutable | No Administrative updates. No Custom Fee updates |
| Empty Key List | Active Key | Immutable | No Administrative updates. Custom fees can be updated. FeeSchedule key can update itself to new active key or dead key. |
| Active Key | Not Set at creation | Mutable | Administrative updates allowed. Admin key cannot add FeeSchedule Key. No Custom Fee updates |
| Active Key | Empty Key List | Mutable | Administrative updates allowed. Can rotate Submit Key to Active or Unusable Key. Admin key cannot add FeeSchedule Key. No Custom Fee updates |
| Active Key | Dead Key | Mutable | Administrative updates allowed. Admin key can update FeeSchedule Key. No Custom Fee updates |
| Active Key | Active Key | Mutable | Administrative updates allowed. Custom fees can be updated. Admin key Can rotate FeeSchedule Key to new Active key or Unusable Key. FeeSchedule key can update itself to new active key or dead key. |

### Implementation Flow

**Example: Update Submit Key to Dead Key with Submit Key**

```jsx
// All-zero ED25519 key
const deadKey = PublicKey.fromString("302a300506032b657003210000000000000000000000000000000000000000000000000000000000000000");

const tx = new TopicUpdateTransaction()
  .setTopicId(tokenId)
  .setSubmitKey(deadKey) // dead key — cannot sign
  .setKeyVerificationMode(NO_VALIDATION); // Following HIP-540 implementation

const resp = await tx.freezeWith(client)
  .sign(oldSubmitKey)           // sign with old submit key
  .execute(client);
```

**Example: Update Submit Key to Dead Key with Admin Key** 

```jsx
// All-zero ED25519 key
const deadKey = PublicKey.fromString("302a300506032b657003210000000000000000000000000000000000000000000000000000000000000000");

const tx = new TopicUpdateTransaction()
  .setTopicId(tokenId)
  .setSubmitKey(deadKey) // dead key — cannot sign
  .setKeyVerificationMode(NO_VALIDATION); // Following HIP-540 implementation

const resp = await tx.freezeWith(client)
  .sign(adminKey)           // sign with Admin key
  .execute(client);
```

## **SDK Impact**

This HIP will require the following updates to the Hiero SDKs:

- Update TopicUpdateTransaction to allow users to use Submit Key to update the Submit Key to a Dead Key with signature from old Submit Key and flag set.
- Update TopicUpdateTransaction to allow users to use Admin Key to update the Admin Key to a Empty Keylist with signature from old Admin Key (no requirements on the state of AutoRenewAccountId).
- Update TopicUpdateTransaction to allow users to use Submit Key to update the Submit Key to a new Active Key with signature from old Submit Key and new Submit Key.
- Update TopicUpdateTransaction to allow users to use Admin Key to update the Submit Key to a Dead Key with signature from Admin Key and flag set.
- Update TopicUpdateTransaction to allow users to use FeeSchedule Key to update the FeeSchedule Key to a Dead Key with signature from old FeeSchedule Key and flag set.

## **Mirror Node Impact**

No impact. 
Confirm that Dead Keys show up correctly for Submit Key when rotated to dead key. 

**Backward Compatibility**

Submit keys can now rotate themselves, including to dead keys. 

This changes security expectations of submit key sharing and may have implications on how submit keys are distributed to trusted parties / security expectations when submit key were handed off.

## **Security Considerations**

- If distributing a submit key to a group of external developers, an admin key should also be included on the topic.
    - These updates allow anyone with the submit key to rotate to a dead key or a new submit key.
    - This breaks security assumptions of currently distributed submit keys on the network
- The irreversible nature of dead keys is by design (unless an Admin Key exists and rotates to an active key). Developers must be cautious and set the flag to accept dead key change before execution.
- Submit Key updates must respect the presence of an Admin Key to prevent bypassing governance hierarchy. I.E.
- The rotation of a Submit Key to another active key will require signing by the new Submit Key unless the validation flag is set to `NO_VALIDATION`.
- FeeSchedule key can not set itself to an empty key list.
    - This would restrict an admin key from rotating it to a valid key or re-adding it to the topic. Admin key power should super-cede lower key privileges and rotations.
    - Submit Key can be re-added by Admin Key if it’s set to a Empty Keylist by Design

## **Rejected Ideas**

1. Deleting a topic: Deleting a topic would make it immutable, but confusing to service providers and block nodes in the future. It should be possible to keep a topic in state while not making it writable.

## **References**

- [HIP-540: Change Or Remove Existing Keys From A Token](https://github.com/hashgraph/hedera-improvement-proposal/blob/main/HIP/hip-540.md)
- [HIP-1021: Improve Assignment of Auto-Renew Account Ids for Topics](https://hips.hedera.com/hip/hip-1021)
- [Hedera API - Consensus Service](https://docs.hedera.com/hedera/sdks-and-apis/hedera-api/consensus/consensus-service)
- [SDK Documentation - Create a Topic](https://docs.hedera.com/hedera/sdks-and-apis/sdks/consensus-service/create-a-topic)
- [SDK Documentation - Update a Topic](https://docs.hedera.com/hedera/sdks-and-apis/sdks/consensus-service/update-a-topic)

## **Copyright/license**

This document is licensed under the Apache License, Version 2.0 -- see [LICENSE](../LICENSE) or (https://www.apache.org/licenses/LICENSE-2.0)
